@using MvcPaging;
@using KOL_HoangThuyLinh.Models
@using System.Web.Configuration;

@model IPagedList<tblHome>
@{
    string url = WebConfigurationManager.AppSettings["UrlHost"];
}

@foreach (tblHome tbl in Model)
{
    <article class="th-themepost" style="margin-top: 10px;">
        @if (tbl.IdType == 1)
        {
            string strUrl = url + tbl.UrlLink + "-" + tbl.Id + ".html";

            <div class="row news-video-type">
                <div class="col-12 col-sm-4">
                    <figure class="th-themepost-img figure">
                        <a href="@strUrl" title="@tbl.Title" rel="noopener noreferrer">
                            <img src="@tbl.Avatar2x1" class="img-fluid" alt="@tbl.Title" title="@tbl.Title"
                                 onerror="this.onerror=null; this.src='/content/images/no-image.jpg'">
                        </a>
                    </figure>
                </div>
                <div class="col-12 col-sm-8">
                    <div class="th-box">
                        <div class="th-posttitle">
                            <h2>
                                <a href="@strUrl" title="@tbl.Title" rel="noopener noreferrer">@tbl.Title</a>
                            </h2>
                        </div>
                        <div class="th-description">
                            <p>@tbl.Teaser</p>
                        </div>
                    </div>
                </div>
            </div>

        }
        else
        {
            <div class="row news-news-type">
                <div class="col-12 col-sm-4">
                    <a href="@tbl.UrlLink" title="@tbl.Title" rel="noopener noreferrer">
                        <figure class="th-themepost-img figure">
                            <img src="@tbl.Avatar2x1" class="img-fluid" alt="@tbl.Title" title="@tbl.Title"
                                 onerror="this.onerror=null; this.src='/content/images/no-image.jpg'">
                            <div class="icon-youtube">
                                <img src="~/Content/Images/youtube-circle.png" />
                            </div>
                        </figure>
                    </a>
                </div>
                <div class="col-12 col-sm-8">
                    <div class="th-box">
                        <div class="th-posttitle">
                            <h2>
                                <a href="@tbl.UrlLink" title="@tbl.Title" rel="noopener noreferrer">@tbl.Title</a>
                            </h2>
                        </div>
                        <div class="th-description">
                            <p>@tbl.Teaser</p>
                        </div>
                    </div>
                </div>
            </div>
        }
    </article>
}
<div class="clearfix"></div>

@if (Model.PageCount > 1)
{
    <div class="paging">
        @Html.Pager(Model.PageSize, Model.PageIndex + 1, Model.TotalItemCount, new AjaxOptions() { UpdateTargetId = "dvList" }).Options(o => o
           .RouteValues(new { clickPaging = true, ViewBag.Id })
          .DisplayTemplate("Bootstrap4Pagination")
         .MaxNrOfPages(5)
        )
    </div>
}


