function initValidate(){var n=$.data($("#frmEdit").get(0),"validator").settings;n.messages={Title:{required:"Vui lòng nhập tiêu đề"},Teaser:{required:"Vui lòng nhập tóm tắt"}};n.highlight=function(n){$(n).closest(".form-group").find(".form-control:first").addClass("is-invalid")};n.unhighlight=function(n){$(n).closest(".form-group").find(".form-control:first").removeClass("is-invalid");$(n).closest(".form-group").find(".form-control:first").addClass("is-valid")}}function initValidateUrl(){var n=$.data($("#frmUrl").get(0),"validator").settings;n.messages={urlImage:{required:"Vui lòng nhập link hình"}}}function savecontent(n){if($("#frmEdit").valid()){$("#Body").val(editor.getData());var t=$("#frmEdit").serializeArray();t.push({name:"intstatus",value:$("#cbStatus").val()});t.push({name:"intFlag",value:n});t.push({name:"tags",value:$("#MasterTag").val()});t.push({name:"dtPublic",value:$("#PublishDate").data("daterangepicker").startDate.format("YYYY/MM/DD HH:mm")});$.ajax({url:"/admincp/content/savenews",type:"POST",data:t,success:function(){window.location.href=document.referrer},error:function(){}})}}function InsertHTML(n){const t=editor.data.processor.toView(n),i=editor.data.toModel(t);editor.model.insertContent(i)}function SaveUrl(){if($("#frmUrl").valid()){var i=parseInt($("#IdType").val()),n=$("#urlImage").val(),t='<img src="'+n+'" class="img-content" />&nbsp;';switch(i){case 1:InsertHTML(t);break;case 2:$("#loadImgThumbnail").html(t);$("#Avatar").val(n);break;case 3:$("#loadImgThumbnailFB").html(t);$("#AvatarFB").val(n)}$("#frmdlg").modal("hide")}}DecoupledDocumentEditor.create(document.querySelector("#editor"),{toolbar:{items:["heading","|","fontSize","fontFamily","|","bold","italic","underline","strikethrough","highlight","|","alignment","|","numberedList","bulletedList","|","indent","outdent","|","todoList","link","blockQuote","imageUpload","insertTable","mediaEmbed","|","undo","redo"]},image:{toolbar:["imageTextAlternative","imageStyle:full","imageStyle:side"]},table:{contentToolbar:["tableColumn","tableRow","mergeTableCells"]}}).then(n=>{window.editor=n,document.querySelector(".document-editor__toolbar").appendChild(n.ui.view.toolbar.element),document.querySelector(".ck-toolbar").classList.add("ck-reset_all")}).catch(()=>{});$(function(){$("#errAvatar").css("display","none");$("#errAvatarFB").css("display","none");$("#errMasterTag").css("display","none")});